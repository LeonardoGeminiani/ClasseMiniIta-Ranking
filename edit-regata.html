<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">


    <script type="module" src="/src/edit-regata.ts" defer></script>
    <link rel="stylesheet" href="/src/styles.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <script type="module" src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container-sm p-3">
        <form>
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="RaceName" placeholder="Nome della regata"
                    formControlName="name" required>
                <label for="floatingInput">Nome della regata</label>

                <div class="errorAlert text-danger d-none">
                    Nome della regata richiesto...
                </div>
            </div>

            <div class="d-flex justify-content-between mb-3">
                <div>
                    <div class="input-group">
                        <span class="input-group-text">N</span>
                        <input class="form-control" id="N" placeholder="...">
                    </div>

                    <div class="errorAlert text-danger d-none">
                        Numero di barche non valido...
                    </div>

                    <div class="form-text">
                        Numero di barche alla partenza
                    </div>
                </div>
                <div class="mx-3">
                    <div class="input-group">
                        <span class="input-group-text">E</span>

                        <select class="form-select" id="E">
                            <option value="DOUBLE">DOUBLE</option>
                            <option value="SOLO">SOLO</option>
                        </select>
                    </div>

                    <div class="form-text">
                        Coefficiente Equipaggio
                    </div>
                </div>
                <div>
                    <div class="input-group">
                        <span class="input-group-text">D</span>

                        <select class="form-select" id="D">
                            <option value="C">C</option>
                            <option value="B">B</option>
                            <option value="A">A</option>
                        </select>
                    </div>

                    <div class="form-text">
                        Coefficiente Distanza
                    </div>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchSerie" checked>
                        <label class="form-check-label" for="flexSwitchSerie">
                            Serie
                        </label>
                    </div>
                </div>
                <div class="card-body">
                    <div class="collapse show" id='collapseSerie'>
                        <label class="form-label">Classifica Serie</label>
                        <div class="input-group">
                            <span class="input-group-text" id="SerieFileSelect">Scegli un file</span>
                            <span class="form-control"></span>
                          
                            <!-- <input type="file" id="SerieFile" class="form-control" aria-label="Upload"> -->
                        </div>
                        <div class="text-danger" id="SerieFileError"></div>
                    </div>
                </div>
            </div>

            <div class="card mb-3">
                <div class="card-header">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchProto" checked>
                        <label class="form-check-label" for="flexSwitchProto">
                            Proto
                        </label>
                    </div>
                </div>
                <div class="card-body">
                    <div class="collapse show" id='collapseProto'>

                        <label class="form-label">Classifica Proto</label>
                        <div class="input-group">
                            <span class="input-group-text" id="ProtoFileSelect">Scegli un file</span>
                            <span class="form-control"></span>
                            
                            <!-- <input type="file" id="ProtoFile" class="form-control" aria-label="Upload"> -->
                        </div>
                        <div class="text-danger" id="ProtoFileError"></div>
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-end">
                <button type="button" type="submit" class="btn btn-primary" id="add-regata-submit">Aggiungi</button>
            </div>
        </form>
    </div>
</body>

</html>
<script>
    let proto = document.getElementById('collapseProto'); 
    document.getElementById('flexSwitchProto').addEventListener('click', () => collapse("Proto"));

    let serie = document.getElementById('collapseSerie');
    document.getElementById('flexSwitchSerie').addEventListener('click', () => collapse("Serie"));

    function collapse(name) {
        let el;
        switch (name) {
            case 'Serie':
                el = serie;
                break;
            case 'Proto':
                el = proto;
                break;
            default:
                return;
        }

        if (el.classList.contains('show')) {
            el.classList.remove('show');
        }
        else {
            el.classList.add('show');
        }
    }
</script>